Ylab = c("gap in real per-capita GDP (1986 USD, thousand)"),
Xlab = c("year"),
Ylim = c(-1.5,1.5),
)
rm(list=ls())
library(foreign)
library(Synth)
library(xtable)
# Load Data
d  <- read.csv("https://tinyurl.com/yy9jla3z", as.is = 2)
## pick v by cross-validation
# data setup for training model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry", 1971:1980, c("mean")),
list("schooling",c(1970,1975), c("mean")),
list("invest70" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1971:1980,
time.optimize.ssr = 1981:2000,
unit.names.variable = 2,
time.plot = 1960:2003
)
# fit training model
synth.out <-
synth(
data.prep.obj=dataprep.out,
Margin.ipop=.005,Sigf.ipop=7,Bound.ipop=6
)
# data prep for training model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry",1971, c("mean")),
list("schooling",c(1960,1965), c("mean")),
list("invest60" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1960:1964,
time.optimize.ssr = 1965:1975,
unit.names.variable = 2,
time.plot = 1960:2000
)
# data prep for training model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry",1971, c("mean")),
list("schooling",c(1960,1965), c("mean")),
list("invest60" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1960:1964,
time.optimize.ssr = 1965:1975,
unit.names.variable = 2,
time.plot = 1960:2000
)
library(Synth)
library(Synth)
data(basque)
rm(list=ls())
library(foreign)
library(xtable)
# Load Data
d  <- read.csv("https://tinyurl.com/yy9jla3z", as.is = 2)
# data prep for training model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry",1971, c("mean")),
list("schooling",c(1960,1965), c("mean")),
list("invest60" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1960:1964,
time.optimize.ssr = 1965:1975,
unit.names.variable = 2,
time.plot = 1960:2000
)
# fit training model
synth.out <- synth(
data.prep.obj=dataprep.out,
Margin.ipop=.005,Sigf.ipop=7,Bound.ipop=6
)
# data prep for main model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry" ,1971:1975, c("mean")),
list("schooling",c(1970,1975), c("mean")),
list("invest70" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1965:1975,
time.optimize.ssr = 1960:1975,
unit.names.variable = 2,
time.plot = 1960:2000
)
# fit main model
synth.out <- synth(
data.prep.obj=dataprep.out,
custom.v=as.numeric(synth.out$solution.v)
)
Cex.set <- 1
#pdf(file = "2intimeplacebo1975.pdf", width = 5.5, height = 5.5, family = "Times",pointsize = 12)
plot(1960:2000,dataprep.out$Y1plot,
type="l",ylim=c(0,33000),col="black",lty="solid",
ylab ="per-capita GDP (PPP, 2002 USD)",
xlab ="year",
xaxs = "i", yaxs = "i",
lwd=2
)
lines(1960:2000,(dataprep.out$Y0%*%synth.out$solution.w),col="black",lty="dashed",lwd=2)
abline(v=1975,lty="dotted")
legend(x="bottomright",
legend=c("West Germany","synthetic West Germany")
,lty=c("solid","dashed"),col=c("black","black")
,cex=.8,bg="white",lwd=c(2,2))
arrows(1973,20000,1974.5,20000,col="black",length=.1)
text(1967.5,20000,"placebo reunification",cex=Cex.set)
# data prep for training model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry",1971, c("mean")),
list("schooling",c(1960,1965), c("mean")),
list("invest60" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1960:1964,
time.optimize.ssr = 1965:1995,
unit.names.variable = 2,
time.plot = 1960:2000
)
# fit training model
synth.out <- synth(
data.prep.obj=dataprep.out,
Margin.ipop=.005,Sigf.ipop=7,Bound.ipop=6
)
# data prep for main model
dataprep.out <-
dataprep(
foo = d,
predictors    = c("gdp","trade","infrate"),
dependent     = "gdp",
unit.variable = 1,
time.variable = 3,
special.predictors = list(
list("industry" ,1971:1995, c("mean")),
list("schooling",c(1970,1995), c("mean")),
list("invest70" ,1980, c("mean"))
),
treatment.identifier = 7,
controls.identifier = unique(d$index)[-7],
time.predictors.prior = 1965:1995,
time.optimize.ssr = 1960:1995,
unit.names.variable = 2,
time.plot = 1960:2000
)
# fit main model
synth.out <- synth(
data.prep.obj=dataprep.out,
custom.v=as.numeric(synth.out$solution.v)
)
Cex.set <- 1
#pdf(file = "2intimeplacebo1975.pdf", width = 5.5, height = 5.5, family = "Times",pointsize = 12)
plot(1960:2000,dataprep.out$Y1plot,
type="l",ylim=c(0,33000),col="black",lty="solid",
ylab ="per-capita GDP (PPP, 2002 USD)",
xlab ="year",
xaxs = "i", yaxs = "i",
lwd=2
)
lines(1960:2000,(dataprep.out$Y0%*%synth.out$solution.w),col="black",lty="dashed",lwd=2)
abline(v=1975,lty="dotted")
lines(1960:2000,(dataprep.out$Y0%*%synth.out$solution.w),col="black",lty="dashed",lwd=2)
abline(v=1995,lty="dotted")
legend(x="bottomright",
legend=c("West Germany","synthetic West Germany")
,lty=c("solid","dashed"),col=c("black","black")
,cex=.8,bg="white",lwd=c(2,2))
arrows(1973,20000,1995,20000,col="black",length=.1)
text(1967.5,20000,"placebo reunification",cex=Cex.set)
Cex.set <- 1
#pdf(file = "2intimeplacebo1975.pdf", width = 5.5, height = 5.5, family = "Times",pointsize = 12)
plot(1960:2000,dataprep.out$Y1plot,
type="l",ylim=c(0,33000),col="black",lty="solid",
ylab ="per-capita GDP (PPP, 2002 USD)",
xlab ="year",
xaxs = "i", yaxs = "i",
lwd=2
)
lines(1960:2000,(dataprep.out$Y0%*%synth.out$solution.w),col="black",lty="dashed",lwd=2)
abline(v=1995,lty="dotted")
legend(x="bottomright",
legend=c("West Germany","synthetic West Germany")
,lty=c("solid","dashed"),col=c("black","black")
,cex=.8,bg="white",lwd=c(2,2))
arrows(1993,20000,1995,20000,col="black",length=.1)
text(1967.5,20000,"placebo reunification",cex=Cex.set)
#pdf(file = "2intimeplacebo1975.pdf", width = 5.5, height = 5.5, family = "Times",pointsize = 12)
plot(1960:2000,dataprep.out$Y1plot,
type="l",ylim=c(0,33000),col="black",lty="solid",
ylab ="per-capita GDP (PPP, 2002 USD)",
xlab ="year",
xaxs = "i", yaxs = "i",
lwd=2
)
lines(1960:2000,(dataprep.out$Y0%*%synth.out$solution.w),col="black",lty="dashed",lwd=2)
abline(v=1995,lty="dotted")
legend(x="bottomright",
legend=c("West Germany","synthetic West Germany")
,lty=c("solid","dashed"),col=c("black","black")
,cex=.8,bg="white",lwd=c(2,2))
arrows(1993,20000,1995,20000,col="black",length=.1)
text(1987.5,20000,"placebo reunification",cex=Cex.set)
#### load required packages
library(Synth)
library(lattice)
lattice.options(default.theme = modifyList(standard.theme(color = FALSE), list(strip.background = list(col = "transparent"))))
#### clear workspace
rm(list=ls())
library(lattice)
library(Synth)
library(Synth)
#### load required packages
library(Synth)
library(lattice)
lattice.options(default.theme = modifyList(standard.theme(color = FALSE), list(strip.background = list(col = "transparent"))))
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/FiscalGovEZ/ReplicationData/scripts"
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
install.packages('xtable')
library(xtable)
lattice.options(default.theme = modifyList(standard.theme(color = FALSE), list(strip.background = list(col = "transparent"))))
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
#### Donor
source(paste(dir,"donor.R",sep="/"))
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### load dataset (adjust the path to the files on your computer)
load(dir + "scdata.Rdata")
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
#### Donor
source(paste(dir,"donor.R",sep="/"))
#### Recipient
source(paste(dir,"recipient.R",sep="/"))
#### Greece
source(paste(dir,"Greece.R",sep="/"))
#### Portugal
source(paste(dir,"Portugal.R",sep="/"))
#### Spain
source(paste(dir,"Spain.R",sep="/"))
#### Ireland
source(paste(dir,"Ireland.R",sep="/"))
#### Italy
source(paste(dir,"Italy.R",sep="/"))
#### Robustness checks
source(paste(dir,"robustness.R",sep="/"))
#### General Government Debt
source(paste(dir,"general.R",sep="/"))
#### Deficit
source(paste(dir,"deficit.R",sep="/"))
#### Save Results as Rdata file
save(scresults,file='../data/scresults.Rdata')
pred <- names(scdata)[c(#
7, # pop65+
8, # pop15-
#9,# unemployment (1)
#10,# system
11,# yrcurnt
12,# allhouse
13,# legelec
14, # pluralty
15, # pr
#16, # checks
#17, # fri
#18,# GDP growth
#19,# growth in multi factor productivity
20,# labor productivity annual growth
21, # health expenditure/GDP
22,# GDP expenditure approach
#23,# tax revenue %GDP (general)
24,# taxrev %GDP, no Social Security
25, # CO2 emissions
#26, # FDI
#27, # GDP growth
#28,# Gini index
#29,#,# Inflation (Consumer Prices)
#30, # Poverty
31,#, # unemployment (World Bank)
##32, #Population
#33,#, #openness (PWT)
34,#,# openness (expenditure)
#35, # Expenditure on Families %GDP
36, # PolconIII
#37, # PolconV
38,  # Potrafke ideology
39, # Majority margin
#40, # Herfindahl Index Government
41, #lag debt/gdp (RR)
42#,# Rae Fractionalisation index (government)
#43 # Rae Fractionalisation Index (total)
)]
contr <- sort(unique(scdata$ccode[is.element(scdata$country,setdiff(scdata$country,c(Euro12,"Euro 11","Slovenia")))]))
#### The following countries have to be excluded due to data constraints (missing values)
contr <- setdiff(contr, c(1111,2222,70,155,225,269,290,310,316,317,349,355,360,366,666,732,sort(unique(scdata$ccode[scdata$eu==0 & scdata$oecd==0]))))
#### Show countries that are available for Synthetic Greece
country <- sort(unique(scdata$country[scdata$ccode %in% contr]))
#### Generate Synth object (debt/gdp ratio) to be used to run the analysis
sdata <- dataprep(foo = scdata[scdata$ccode %in% contr | scdata$country == "Euro 11",],
predictors = pred,
dependent = names(scdata[6]),
unit.variable = "ccode",
time.variable = "Year",
treatment.identifier = 0,
controls.identifier = contr,
time.predictors.prior = c(1983:1998),
time.optimize.ssr = c(1983:1999),
unit.names.variable = "country",
time.plot = 1983:2010
)
#### Run the synthetic control analysis:
synth.out <- synth(data.prep.obj = sdata, method = "BFGS")
#### calculate output gaps from the results
gaps <- sdata$Y1plot - (sdata$Y0plot %*% synth.out$solution.w)
####
synth.tables <- synth.tab(dataprep.res = sdata, synth.res=synth.out)
#### Plot the Path of the Debt to GDP ratio for the Euro11 and the Synthetic control
path.plot(synth.res = synth.out,
dataprep.res = sdata,
Ylab="Debt/GDP (Nominal)",
Xlab="Year",
Legend=c("Euro 11","Synthetic Euro 11"),
Legend.position="bottomright", abline(v=1999,lty="dashed")
)
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
#### clear workspace
rm(list=ls())
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/sgp-replication/r-files"
setwd("~/Desktop/CS112/sgp-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
#### set your working directory here (adjust the path to the files on your computer)
dir <- "~/Desktop/CS112/euro11-replication/r-files"
setwd("~/Desktop/CS112/euro11-replication")
#### load dataset (adjust the path to the files on your computer)
load("scdata.Rdata")
#### Define aggregates we need later
Euro12 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy',#
'Finland','France','Luxembourg','Belgium','Austria','Ireland')
Euro17 <- c('Germany','Netherlands','Greece','Spain','Portugal','Italy','Finland','France','Luxembourg','Belgium','Austria','Ireland','Slovakia','Cyprus','Malta','Slovenia','Estonia')
donor <- c("Germany","Netherlands","Belgium","Austria","Finland","France")
recipient <- c("Portugal","Spain","Greece","Italy","Ireland")
#### Define list element to store estimation results
scresults <- vector(mode="list",length=11)
names(scresults) <- c("Euro11","donor","recipient","Greece","Portugal","Spain","Ireland","Italy","robustness","deficit","general")
#### Euro 11
source(paste(dir,"euro11.R",sep="/"))
